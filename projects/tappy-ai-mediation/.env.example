# Mediation API (.env.example)
# Scope: Production launch with API + Dashboard only (no chatbot dependency).

# Required in production
SUPABASE_DB_URL=
MEDIATION_SETTLEMENT_STORAGE=supabase
MEDIATION_PRODUCTION_MODE=true
MEDIATION_REQUIRE_DURABLE_SETTLEMENT=true
MEDIATION_REQUIRE_RUNTIME_LOG_DB_PERSISTENCE=true
MEDIATION_DASHBOARD_AUTH_REQUIRED=true
MEDIATION_RUNTIME_AUTH_REQUIRED=true
MEDIATION_STRICT_MANUAL_INTEGRATION=true
MEDIATION_DEV_RESET_ENABLED=false
MEDIATION_ALLOWED_ORIGINS=https://dashboard.example.com

# Production optional (recommended defaults)
MEDIATION_DASHBOARD_SESSION_TTL_SECONDS=2592000
MEDIATION_CONTROL_PLANE_REFRESH_THROTTLE_MS=1000
MEDIATION_V2_INVENTORY_FALLBACK=true
MEDIATION_DB_POOL_MAX=1
MEDIATION_DB_POOL_IDLE_TIMEOUT_MS=10000
MEDIATION_DB_POOL_CONNECTION_TIMEOUT_MS=5000
MEDIATION_API_SERVICE_ROLE=all
HOUSE_ADS_SOURCE=supabase
HOUSE_ADS_DB_CACHE_TTL_MS=15000
HOUSE_ADS_DB_FETCH_LIMIT=1500
SERVICE_TOKEN_ACTIVE_KID=k2026q1
SERVICE_TOKEN_KEYS_JSON={"k2026q1":"replace-with-strong-secret"}

# Optional provider credentials (empty is allowed; runtime can degrade to no-bid/house ads)
OPENROUTER_API_KEY=
OPENROUTER_MODEL=stepfun/step-3.5-flash:free
CJ_TOKEN=
PARTNERSTACK_API_KEY=

# Local development only (not needed on Vercel deployment)
MEDIATION_GATEWAY_PORT=3100
MEDIATION_GATEWAY_HOST=127.0.0.1

# Advanced integrations (optional, not required for MVP launch)
REDIS_URL=
NATS_URL=
SYNADIA_CLOUD_USER_PUBLIC_KEY=
SYNADIA_CLOUD_USER_SEED=
# SYNADIA_CLOUD_CREDS=
# SYNADIA_CLOUD_CREDS_FILE=
DOPPLER_TOKEN=
DOPPLER_PROJECT=
DOPPLER_CONFIG=
GRAFANA_URL=
GRAFANA_SERVICE_ACCOUNT_TOKEN=

# Supported API roles: all | runtime | control_plane
